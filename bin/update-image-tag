#!/usr/bin/env python3
# LICENSED INTERNAL CODE. PROPERTY OF IBM.
# IBM Research Zurich Licensed Internal Code
# (C) Copyright IBM Corp. 2021
# ALL RIGHTS RESERVED
import argparse
from rxn_utilities.ci import update_image_tag

if __name__ == '__main__':

    parser = argparse.ArgumentParser()
    parser.add_argument('tag', help='new tag of the image', type=str)
    parser.add_argument('file', help='path to yaml the file', type=str)
    parser.add_argument(
        "-i",
        "--image_name",
        type=str,
        default=None,
        help="image name to update. Defaults to None, a.k.a., no image name."
    )
    args = parser.parse_args()

    tag = args.tag
    filename = args.file
    image_name = args.image_name

    update_image_tag(values_yaml_filepath=filename, image_tag=tag, image_name=image_name)
